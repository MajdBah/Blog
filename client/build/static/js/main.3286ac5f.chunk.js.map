{"version":3,"sources":["components/header.js","components/home.js","components/login.js","components/register.js","components/createPost.js","components/viewPost.js","components/editPost.js","App.js","reportWebVitals.js","index.js"],"names":["Header","props","logout","bind","localStorage","removeItem","axios","defaults","headers","common","this","history","push","getItem","className","to","href","onClick","React","Component","withRouter","Home","state","posts","error","isLoading","fetchPosts","get","then","res","setState","data","catch","err","response","message","length","map","post","title","author","name","content","substr","_id","Login","onChangeEmail","onChangePassword","onSubmit","email","password","e","target","value","preventDefault","setItem","token","renderError","type","onChange","Register","onChangeName","CreatePost","onChangeTitle","onChangeContent","ViewPost","deletePost","onChangeComment","comment","commentError","match","params","id","comments","delete","postId","alert","renderActions","renderComments","renderCommentForm","EditPost","authorId","put","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3286ac5f.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport React from 'react';\r\nimport {withRouter, Link} from 'react-router-dom';\r\n\r\nclass Header extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.logout = this.logout.bind(this);\r\n    }\r\n\r\n    logout(){\r\n        localStorage.removeItem('id');\r\n        localStorage.removeItem('token');\r\n        axios.defaults.headers.common = {'Authorization': ''};\r\n        this.props.history.push('/');\r\n\r\n    }\r\n\r\n    render(){\r\n\r\n        if(localStorage.getItem('token')){\r\n            return(\r\n                <div className=\"navbar\">\r\n                <ul>\r\n                    <li><Link to=\"/\">الرئيسية</Link></li>\r\n                    <li><Link to=\"/post/create\">انشاء تدوينة</Link></li>\r\n                    <li><a href=\"#logout\" onClick={this.logout}>تسجيل الخروج</a></li>\r\n                </ul>\r\n            </div>\r\n            );\r\n        }\r\n\r\n        return(\r\n            <div className=\"navbar\">\r\n            <ul>\r\n                <li><Link to=\"/\">الرئيسية</Link></li>\r\n                <li><Link to=\"/login\">تسجيل الدخول</Link></li>\r\n                <li><Link to=\"/register\">التسجيل</Link></li>\r\n            </ul>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(Header);","import React from 'react';\r\nimport axios from 'axios';\r\nimport {Link} from 'react-router-dom';\r\n\r\nclass Home extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            posts: [],\r\n            error: '',\r\n            isLoading: true\r\n        };\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.fetchPosts();\r\n    }\r\n\r\n    fetchPosts(){\r\n        axios.get('/api/posts')\r\n        .then(res => {\r\n            this.setState({\r\n                posts: res.data,\r\n                error: '',\r\n                isLoading: false\r\n            });\r\n        })\r\n        .catch(err => {\r\n            this.setState({\r\n                error: err.response.data.message,\r\n                isLoading: false\r\n            });\r\n        });\r\n    }\r\n\r\n    render(){\r\n\r\n        if(this.state.isLoading){\r\n            return(<h4>الرجاء الإنتظار</h4>);\r\n        }\r\n\r\n        if(this.state.error){\r\n            return(<blockquote>{this.state.error}</blockquote>);\r\n        }\r\n\r\n        if(this.state.posts.length < 1){\r\n            return(<h4>لا يوجد تدوينات</h4>)   \r\n        }\r\n        return this.state.posts.map(post => {\r\n            return(\r\n                <div className=\"row\">\r\n                    <div className=\"column\">\r\n                        <h4>{post.title}</h4>\r\n                        <h6 className=\"title\">{post.author.name}</h6>\r\n                        <p>{post.content.substr(0, 120)}</p>\r\n                        <Link to={\"/post/view/\"+post._id} >\r\n                            <button className=\"button-primary button-outline\">اقرأ المزيد</button>\r\n                        </Link>\r\n                        <hr />\r\n                    </div>\r\n                </div>\r\n            )\r\n        })\r\n    }\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\nimport axios from 'axios';\r\n\r\n\r\n\r\n\r\nclass Login extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        if(localStorage.getItem('token')){\r\n            this.props.history.push('/');\r\n        }\r\n\r\n        this.onChangeEmail = this.onChangeEmail.bind(this);\r\n        this.onChangePassword = this.onChangePassword.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            error: ''\r\n        }\r\n    }\r\n\r\n    onChangeEmail(e){\r\n        this.setState({email: e.target.value, error: ''});\r\n    }\r\n\r\n    onChangePassword(e){\r\n        this.setState({password: e.target.value, error: ''});\r\n    }\r\n\r\n    onSubmit(e){\r\n\r\n        e.preventDefault();\r\n\r\n        let data ={\r\n            email: this.state.email,\r\n            password:this.state.password\r\n        }\r\n\r\n        axios.post('/api/auth', data)\r\n        .then(res => {\r\n            localStorage.setItem('token', res.data.token);\r\n            localStorage.setItem('id', res.data._id);\r\n            axios.defaults.headers.common = {'Authrization': res.data.token};\r\n            this.props.history.push('/');\r\n        })\r\n        .catch(err => {\r\n            this.setState({\r\n                error: err.response.data.message\r\n            });\r\n        })\r\n    }\r\n\r\n    renderError(){\r\n        return this.state.error ? (<blockquote>{this.state.error}</blockquote>) : \"\";\r\n    }\r\n\r\n    render(){\r\n\r\n        return(\r\n            <div className=\"column column-50 column-offset-25\">\r\n                <h4>تسجيل الدخول</h4>\r\n                <hr/>\r\n                {this.renderError()}\r\n                <form onSubmit={this.onSubmit}>\r\n                    <label>البريد الالكتروني</label>\r\n                    <input type=\"email\" value={this.state.email} onChange={this.onChangeEmail} />\r\n                    <label>كلمة المرور</label>\r\n                    <input type=\"password\" value={this.state.password} onChange={this.onChangePassword} />\r\n                    <input className=\"button-primary\" type=\"submit\" value=\"تسجيل الدخول\" />\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport axios from 'axios';\r\n\r\n\r\n\r\n\r\nclass Register extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        if(localStorage.getItem('token')){\r\n            this.props.history.push('/');\r\n        }\r\n\r\n        this.onChangeName = this.onChangeName.bind(this);\r\n        this.onChangeEmail = this.onChangeEmail.bind(this);\r\n        this.onChangePassword = this.onChangePassword.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n\r\n        this.state = {\r\n            name: '',\r\n            email: '',\r\n            password: '',\r\n            error: ''\r\n        }\r\n    }\r\n\r\n    onChangeName(e){\r\n        this.setState({name: e.target.value, error: ''});\r\n    }\r\n\r\n    onChangeEmail(e){\r\n        this.setState({email: e.target.value, error: ''});\r\n    }\r\n\r\n    onChangePassword(e){\r\n        this.setState({password: e.target.value, error: ''});\r\n    }\r\n\r\n    onSubmit(e){\r\n\r\n        e.preventDefault();\r\n\r\n        let data ={\r\n            name: this.state.name,\r\n            email: this.state.email,\r\n            password:this.state.password\r\n        }\r\n\r\n        axios.post('/api/register', data)\r\n        .then(res => {\r\n            localStorage.setItem('token', res.data.token);\r\n            localStorage.setItem('id', res.data._id);\r\n            axios.defaults.headers.common = {'Authrization': res.data.token};\r\n            this.props.history.push('/');\r\n        })\r\n        .catch(err => {\r\n            this.setState({\r\n                error: err.response.data.message\r\n            })\r\n        })\r\n    }\r\n\r\n    renderError(){\r\n        return this.state.error ? (<blockquote>{this.state.error}</blockquote>) : \"\";\r\n    }\r\n\r\n    render(){\r\n\r\n        return(\r\n            <div className=\"column column-50 column-offset-25\">\r\n                <h4>إنشاء حساب جديد</h4>\r\n                <hr/>\r\n                {this.renderError()}\r\n                <form onSubmit={this.onSubmit}>\r\n                    <label>الاسم</label>\r\n                    <input type=\"text\" value={this.state.name} onChange={this.onChangeName} />\r\n                    <label>البريد الالكتروني</label>\r\n                    <input type=\"email\" value={this.state.email} onChange={this.onChangeEmail} />\r\n                    <label>كلمة المرور</label>\r\n                    <input type=\"password\" value={this.state.password} onChange={this.onChangePassword} />\r\n                    <input className=\"button-primary\" type=\"submit\" value=\"التسجيل\" />\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\nimport axios from 'axios';\r\n\r\n\r\n\r\n\r\nclass CreatePost extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        if(!localStorage.getItem('token')){\r\n            this.props.history.push('/login');\r\n        }\r\n\r\n        this.onChangeTitle = this.onChangeTitle.bind(this);\r\n        this.onChangeContent = this.onChangeContent.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n\r\n        this.state = {\r\n            title: '',\r\n            content: '',\r\n            error: ''\r\n        }\r\n    }\r\n\r\n    onChangeTitle(e){\r\n        this.setState({title: e.target.value, error: ''});\r\n    }\r\n\r\n    onChangeContent(e){\r\n        this.setState({content: e.target.value, error: ''});\r\n    }\r\n\r\n    onSubmit(e){\r\n\r\n        e.preventDefault();\r\n\r\n        let data ={\r\n            title: this.state.title,\r\n            content:this.state.content\r\n        }\r\n\r\n        axios.post('/api/posts', data)\r\n        .then(res => {\r\n            \r\n            this.props.history.push('/');\r\n        })\r\n        .catch(err => {\r\n            this.setState({\r\n                error: err.response.data.message\r\n            });\r\n        })\r\n    }\r\n\r\n    renderError(){\r\n        return this.state.error ? (<blockquote>{this.state.error}</blockquote>) : \"\";\r\n    }\r\n\r\n    render(){\r\n\r\n        return(\r\n            <div className=\"column column-50 column-offset-25\">\r\n                <h4>انشاء تدوينة جديدة</h4>\r\n                <hr/>\r\n                {this.renderError()}\r\n                <form onSubmit={this.onSubmit}>\r\n                    <label>عنوان التدوينة</label>\r\n                    <input type=\"text\" value={this.state.title} onChange={this.onChangeTitle} />\r\n                    <label>المحتوى</label>\r\n                    <textarea value={this.state.content} onChange={this.onChangeContent}></textarea>\r\n                    <input className=\"button-primary\" type=\"submit\" value=\"انشاء التدوينة\" />\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CreatePost;","import React from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nclass ViewPost extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.deletePost = this.deletePost.bind(this);\r\n        this.onChangeComment = this.onChangeComment.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.state = {\r\n            post: {},\r\n            comment: '',\r\n            commentError: '',\r\n            error: '',\r\n        };\r\n    }\r\n\r\n    onChangeComment(e){\r\n        this.setState({\r\n          comment: e.target.value,\r\n          commentError: ''\r\n        });\r\n    }\r\n\r\n    onSubmit(e){\r\n        e.preventDefault();\r\n\r\n        let data = {\r\n            content:this.state.comment\r\n        }\r\n\r\n        axios.post('/api/comments/'+this.props.match.params.id, data)\r\n\r\n        .then(res => {\r\n            let post = this.state.post;\r\n\r\n            post.comments.push({\r\n                _id: res.data._id,\r\n                content: res.data.content,\r\n                author: {_id: localStorage.getItem('id')}\r\n            });\r\n\r\n            this.setState({\r\n                post: post,\r\n                commentError: '',\r\n                comment: ''\r\n            });\r\n        })\r\n\r\n        .catch(err => {\r\n            this.setState({\r\n                commentError: <blockquote>{err.response.data.message}</blockquote>\r\n            });\r\n        });\r\n    }\r\n\r\n    deletePost(){\r\n        axios.delete('/api/posts/'+this.state.post._id)\r\n        .then(res => {\r\n            this.props.history.push('/');\r\n        })\r\n    }\r\n\r\n    componentDidMount(){\r\n        let postId = this.props.match.params.id;\r\n        axios.get('/api/posts/'+postId)\r\n        .then(res => {\r\n            this.setState({\r\n                post: res.data,\r\n                error: ''\r\n            });\r\n        })\r\n        .catch(err => {\r\n            alert(err);\r\n            this.setState({\r\n                error: err.response.data.message\r\n            })\r\n        })\r\n    }\r\n\r\n    renderActions(){\r\n        if(localStorage.getItem('token') && localStorage.getItem('id') === this.state.post.author._id){\r\n            return(\r\n                <span>\r\n                    <Link to={'/post/edit/'+this.state.post._id}>\r\n                        <button>نعديل</button>\r\n                    </Link>\r\n                    <button onClick={this.deletePost}>حذف</button>\r\n                </span>\r\n            );\r\n        }\r\n    }\r\n\r\n    renderComments(){\r\n        let comments = <p>لايوجد تعليقات.</p>;\r\n        if(this.state.post.comments.length){\r\n            comments = this.state.post.comments.map(comment => {\r\n                return(\r\n                    <p key={comment._id}>\r\n                        <strong className=\"title\">\r\n                            {comment.author._id === localStorage.getItem('id') ? 'أنا' : comment.author.name}\r\n                        </strong>\r\n                        <br/>\r\n                        {comment.content}\r\n                    </p>\r\n                );\r\n            });\r\n        }\r\n        return comments;\r\n    }\r\n\r\n    renderCommentForm(){\r\n        if(!localStorage.getItem('token')){\r\n            return(<p>الرجاء تسجيل الدخول للتعليق على هذه التدوينة.</p>);\r\n        }\r\n        return(\r\n            <div>\r\n                <h4>إضافة تعليق</h4>\r\n                {this.state.commentError}\r\n                <form onSubmit={this.onSubmit}>\r\n                    <textarea value={this.state.comment} onChange={this.onChangeComment}></textarea>\r\n                    <input className=\"button-primary\" type=\"submit\" value=\"إرسال\" />\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n\r\n    render(){\r\n\r\n        if(this.state.error){\r\n            return  (<blockquote>{this.state.error}</blockquote>)\r\n        };\r\n\r\n        if(!this.state.post.title){\r\n            return (<h4>الرجاء الإنتظار...</h4>);\r\n        };\r\n\r\n        return(\r\n            <div className=\"column\">\r\n                <h4>{this.state.post.title}</h4>\r\n                <h6 className=\"title\">{this.state.post.author.name}</h6>\r\n                <p>{this.state.post.content}</p>\r\n                {this.renderActions()}\r\n                <hr/>\r\n                <h4>التعليقات</h4>\r\n                {this.renderComments()}\r\n                {this.renderCommentForm()}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ViewPost;","import React from 'react';\r\nimport axios from 'axios';\r\n\r\n\r\n\r\n\r\n\r\nclass EditPost extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        if(!localStorage.getItem('token')){\r\n            this.props.history.push('/login');\r\n        }\r\n\r\n        this.onChangeTitle = this.onChangeTitle.bind(this);\r\n        this.onChangeContent = this.onChangeContent.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n\r\n        this.state = {\r\n            title: '',\r\n            content: '',\r\n            authorId: '',\r\n            isLoading:true,\r\n            error: ''\r\n        }\r\n    }\r\n\r\n    onChangeTitle(e){\r\n        this.setState({title: e.target.value, error: ''});\r\n    }\r\n\r\n    onChangeContent(e){\r\n        this.setState({content: e.target.value, error: ''});\r\n    }\r\n\r\n    onSubmit(e){\r\n\r\n        e.preventDefault();\r\n\r\n        let data ={\r\n            title: this.state.title,\r\n            content:this.state.content\r\n        }\r\n\r\n        axios.put('/api/posts/'+this.props.match.params.id, data)\r\n        .then(res => {\r\n            \r\n            this.props.history.push('/');\r\n        })\r\n        .catch(err => {\r\n            this.setState({\r\n                error: err.response.data.message\r\n            });\r\n        })\r\n    }\r\n\r\n    renderError(){\r\n        return this.state.error ? (<blockquote>{this.state.error}</blockquote>) : \"\";\r\n    }\r\n\r\n    componentDidMount(){\r\n        axios.get('/api/posts/'+this.props.match.params.id)\r\n        .then(res => {\r\n            this.setState({\r\n                title: res.data.title,\r\n                content: res.data.content,\r\n                authorId: res.data.author._id,\r\n                isLoading: false\r\n            })\r\n        })\r\n    }\r\n\r\n    render(){\r\n\r\n        if(!this.state.title){\r\n            return (<h4>الرجاء الإنتظار...</h4>);\r\n        };\r\n\r\n        if(localStorage.getItem('id') !== this.state.authorId){\r\n            return(<blockquote>خطأ 403</blockquote>)\r\n        }\r\n\r\n        return(\r\n            <div className=\"column column-50 column-offset-25\">\r\n                <h4>تعديل التدوينة</h4>\r\n                <hr/>\r\n                {this.renderError()}\r\n                <form onSubmit={this.onSubmit}>\r\n                    <label>عنوان التدوينة</label>\r\n                    <input type=\"text\" value={this.state.title} onChange={this.onChangeTitle} />\r\n                    <label>المحتوى</label>\r\n                    <textarea value={this.state.content} onChange={this.onChangeContent}></textarea>\r\n                    <input className=\"button-primary\" type=\"submit\" value=\"تعديل التدوينة\" />\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default EditPost;","import './App.css';\nimport React from 'react';\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\nimport Header from './components/header';\nimport Home from './components/home';\nimport Login from './components/login';\nimport Register from './components/register';\nimport CreatePost from './components/createPost';\nimport ViewPost from './components/viewPost';\nimport EditPost from './components/editPost';\nimport axios from 'axios';\n\n\nclass App extends React.Component {\n\n  constructor(props){\n    super(props);\n    let token = localStorage.getItem('token');\n    axios.defaults.headers.common = {'Authorization': token};\n  }\n\n  render(){\n  return (\n\n    <Router>\n      <div>\n     <Header></Header>\n     <div className=\"container\">\n       <div>\n         <Switch>\n           <Route exact path=\"/\" component={Home} />\n           <Route exact path=\"/login\" component={Login} />\n           <Route exact path=\"/register\" component={Register} />\n           <Route exact path=\"/post/create\" component={CreatePost} />\n           <Route exact path=\"/post/view/:id\" component={ViewPost} />\n           <Route exact path=\"/post/edit/:id\" component={EditPost} />\n         </Switch>\n       </div>\n     </div>\n    </div>\n    </Router>\n    \n  );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'milligram/dist/milligram.min.css';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}